import"./chunk-WJT7KXDR.js";import{a as wt,c as he}from"./chunk-RETDLWH5.js";import"./chunk-SGYCFQGT.js";import{$ as vt,A as lt,D as ct,I as dt,J as ut,K as ht,L as mt,M as ft,N as pt,W as ue,X as _t,Z as gt,_ as yt,a as Ke,b as Ce,c as De,d as Je,f as et,g as tt,k as it,r as ot,s as nt,t as rt,u as st,y as at,z as R}from"./chunk-BHGCBRZO.js";import{b as We,f as Ge,i as Qe,l as $e,m as Xe,n as qe,p as Ze}from"./chunk-AS2FJF2K.js";import"./chunk-E26LL6ND.js";import{$ as p,$a as v,A as ge,Bb as U,Cb as W,Da as we,Db as G,Gb as Ne,Hb as c,Ia as be,Ib as f,Jb as y,La as l,Lb as ne,Mb as re,Nb as se,Pb as ae,Q as O,Qa as Y,Qb as Le,S as ye,Sa as Pe,Ub as Ve,V as B,Vb as He,W as C,Wb as le,Xa as T,Xb as ce,Y as A,Ya as x,Za as L,a as F,aa as te,ac as Q,b as Ie,ba as ie,cc as N,dc as $,fb as P,ga as ve,gb as h,h as k,ha as D,i as q,ia as S,ib as z,j as Z,ja as w,jc as Be,ka as I,lb as E,m as pe,mb as Fe,n as _e,na as Me,nb as Ae,ob as ze,pb as n,q as K,qb as a,r as J,ra as oe,rb as b,sa as Oe,tc as de,ub as M,uc as je,va as j,vc as Ye,w as Ee,wb as u,x as ee,xb as _,yc as X,zc as Ue}from"./chunk-NXIGT46R.js";var bt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=x({type:r});static \u0275inj=C({imports:[ft]})}return r})();var Ct=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=x({type:r});static \u0275inj=C({imports:[R,bt,R]})}return r})(),Vt=9007199254740991,me=class extends ut{_data;_renderData=new q([]);_filter=new q("");_internalPageChanges=new k;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(o){o=Array.isArray(o)?o:[],this._data.next(o),this._renderChangesSubscription||this._filterData(o)}get filter(){return this._filter.value}set filter(o){this._filter.next(o),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(o){this._sort=o,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(o){this._paginator=o,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(o,e)=>{let t=o[e];if(Je(t)){let i=Number(t);return i<Vt?i:t}return t};sortData=(o,e)=>{let t=e.active,i=e.direction;return!t||i==""?o:o.sort((s,d)=>{let m=this.sortingDataAccessor(s,t),g=this.sortingDataAccessor(d,t),ke=typeof m,Te=typeof g;ke!==Te&&(ke==="number"&&(m+=""),Te==="number"&&(g+=""));let H=0;return m!=null&&g!=null?m>g?H=1:m<g&&(H=-1):m!=null?H=1:g!=null&&(H=-1),H*(i=="asc"?1:-1)})};filterPredicate=(o,e)=>{let t=e.trim().toLowerCase();return Object.values(o).some(i=>`${i}`.toLowerCase().includes(t))};constructor(o=[]){super(),this._data=new q(o),this._updateChangeSubscription()}_updateChangeSubscription(){let o=this._sort?ee(this._sort.sortChange,this._sort.initialized):pe(null),e=this._paginator?ee(this._paginator.page,this._internalPageChanges,this._paginator.initialized):pe(null),t=this._data,i=J([t,this._filter]).pipe(K(([m])=>this._filterData(m))),s=J([i,o]).pipe(K(([m])=>this._orderData(m))),d=J([s,e]).pipe(K(([m])=>this._pageData(m)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=d.subscribe(m=>this._renderData.next(m))}_filterData(o){return this.filteredData=this.filter==null||this.filter===""?o:o.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(o){return this.sort?this.sortData(o.slice(),this.sort):o}_pageData(o){if(!this.paginator)return o;let e=this.paginator.pageIndex*this.paginator.pageSize;return o.slice(e,e+this.paginator.pageSize)}_updatePaginator(o){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=o,e.pageIndex>0)){let t=Math.ceil(e.length/e.pageSize)-1||0,i=Math.min(e.pageIndex,t);i!==e.pageIndex&&(e.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var Ht=new A("MAT_SORT_DEFAULT_OPTIONS"),Dt=(()=>{class r{_defaultOptions;_initializedStream=new Z(1);sortables=new Map;_stateChanges=new k;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new oe;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,i=Bt(e.start||this.start,t),s=i.indexOf(this.direction)+1;return s>=i.length&&(s=0),i[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(t){return new(t||r)(Y(Ht,8))};static \u0275dir=L({type:r,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",N],disabled:[2,"matSortDisabled","disabled",N]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[ve]})}return r})();function Bt(r,o){let e=["asc","desc"];return r=="desc"&&e.reverse(),o||e.push(""),e}var Re=(()=>{class r{changes=new k;static \u0275fac=function(t){return new(t||r)};static \u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function jt(r){return r||new Re}var Yt={provide:Re,deps:[[new te,new ie,Re]],useFactory:jt};var St=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=x({type:r});static \u0275inj=C({providers:[Yt],imports:[R]})}return r})();var Wt=["tooltip"],kt=20;var Tt=new A("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let r=p(ue);return()=>r.scrollStrategies.reposition({scrollThrottle:kt})}});function Gt(r){return()=>r.scrollStrategies.reposition({scrollThrottle:kt})}var Qt={provide:Tt,deps:[ue],useFactory:Gt};function $t(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Xt=new A("mat-tooltip-default-options",{providedIn:"root",factory:$t});var xt="tooltip-panel",Rt=tt({passive:!0}),qt=8,Zt=8,Kt=24,Jt=200,It=(()=>{class r{_elementRef=p(j);_ngZone=p(Oe);_platform=p(et);_ariaDescriber=p(st);_focusMonitor=p(it);_dir=p(Ke);_injector=p(Me);_viewContainerRef=p(Pe);_defaultOptions=p(Xt,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=ei;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Ce(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=Ce(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=De(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=De(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new k;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=qt}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(O(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,i])=>{e.removeEventListener(t,i,Rt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(t);this._detach(),this._portal=this._portal||new pt(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=i.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(O(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let d=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&d._origin instanceof j)return this._overlayRef;this._detach()}let t=this._injector.get(ht).getAncestorScrollContainers(this._elementRef),i=this._injector.get(ue),s=i.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return s.positionChanges.pipe(O(this._destroyed)).subscribe(d=>{this._updateCurrentPositionClass(d.connectionPair),this._tooltipInstance&&d.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=i.create({direction:this._dir,positionStrategy:s,panelClass:`${this._cssClassPrefix}-${xt}`,scrollStrategy:this._injector.get(Tt)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(O(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(O(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(O(this._destroyed)).subscribe(d=>{this._isTooltipVisible()&&d.keyCode===27&&!rt(d)&&(d.preventDefault(),d.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(O(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,i=this._getOrigin(),s=this._getOverlayPosition();t.withPositions([this._addOffset(F(F({},i.main),s.main)),this._addOffset(F(F({},i.fallback),s.fallback))])}_addOffset(e){let t=Zt,i=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-8:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=i?-8:t:e.originX==="end"&&(e.offsetX=i?t:-8),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,i;t=="above"||t=="below"?i={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?i={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(i={originX:"end",originY:"center"});let{x:s,y:d}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:s,originY:d}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,i;t=="above"?i={overlayX:"center",overlayY:"bottom"}:t=="below"?i={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?i={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(i={overlayX:"start",overlayY:"center"});let{x:s,y:d}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:s,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),be(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:i,originY:s}=e,d;if(t==="center"?this._dir&&this._dir.value==="rtl"?d=i==="end"?"left":"right":d=i==="start"?"left":"right":d=t==="bottom"&&s==="top"?"above":"below",d!==this._currentPosition){let m=this._overlayRef;if(m){let g=`${this._cssClassPrefix}-${xt}-`;m.removePanelClass(g+this._currentPosition),m.addPanelClass(g+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],i=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let i=t.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,i])=>{this._elementRef.nativeElement.addEventListener(t,i,Rt)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._injector.get(Be).elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;t!==i&&!i.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,i=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(e==="on"||!t.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||be({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(t){return new(t||r)};static \u0275dir=L({type:r,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,i){t&2&&z("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return r})(),ei=(()=>{class r{_changeDetectorRef=p(Q);_elementRef=p(j);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new k;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=p(we,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Kt&&e.width>=Jt}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,i=this._showAnimation,s=this._hideAnimation;if(t.classList.remove(e?s:i),t.classList.add(e?i:s),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let d=getComputedStyle(t);(d.getPropertyValue("animation-duration")==="0s"||d.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=T({type:r,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(t&1&&U(Wt,7),t&2){let s;W(s=G())&&(i._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,i){t&1&&u("mouseleave",function(d){return i._handleMouseLeave(d)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,i){if(t&1){let s=M();n(0,"div",1,0),u("animationend",function(m){return D(s),S(i._handleAnimationEnd(m))}),n(2,"div",2),c(3),a()()}t&2&&(z("mdc-tooltip--multiline",i._isMultiline),h("ngClass",i.tooltipClass),l(3),f(i.message))},dependencies:[de],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return r})(),Et=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=x({type:r});static \u0275inj=C({providers:[Qt],imports:[ot,_t,R,R,mt]})}return r})();function ti(r,o){if(r&1&&(n(0,"mat-option",17),c(1),a()),r&2){let e=o.$implicit;h("value",e),l(),y(" ",e," ")}}function ii(r,o){if(r&1){let e=M();n(0,"mat-form-field",14)(1,"mat-select",16,0),u("selectionChange",function(i){D(e);let s=_(2);return S(s._changePageSize(i.value))}),Ae(3,ti,2,2,"mat-option",17,Fe),a(),n(5,"div",18),u("click",function(){D(e);let i=Ne(2);return S(i.open())}),a()()}if(r&2){let e=_(2);h("appearance",e._formFieldAppearance)("color",e.color),l(),h("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),l(2),ze(e._displayedPageSizeOptions)}}function oi(r,o){if(r&1&&(n(0,"div",15),c(1),a()),r&2){let e=_(2);l(),f(e.pageSize)}}function ni(r,o){if(r&1&&(n(0,"div",3)(1,"div",13),c(2),a(),v(3,ii,6,7,"mat-form-field",14)(4,oi,2,1,"div",15),a()),r&2){let e=_();l(),P("id",e._pageSizeLabelId),l(),y(" ",e._intl.itemsPerPageLabel," "),l(),E(e._displayedPageSizeOptions.length>1?3:-1),l(),E(e._displayedPageSizeOptions.length<=1?4:-1)}}function ri(r,o){if(r&1){let e=M();n(0,"button",19),u("click",function(){D(e);let i=_();return S(i._buttonClicked(0,i._previousButtonsDisabled()))}),w(),n(1,"svg",8),b(2,"path",20),a()()}if(r&2){let e=_();h("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),P("aria-label",e._intl.firstPageLabel)}}function si(r,o){if(r&1){let e=M();n(0,"button",21),u("click",function(){D(e);let i=_();return S(i._buttonClicked(i.getNumberOfPages()-1,i._nextButtonsDisabled()))}),w(),n(1,"svg",8),b(2,"path",22),a()()}if(r&2){let e=_();h("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),P("aria-label",e._intl.lastPageLabel)}}var fe=(()=>{class r{changes=new k;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,t,i)=>{if(i==0||t==0)return`0 of ${i}`;i=Math.max(i,0);let s=e*t,d=s<i?Math.min(s+t,i):s+t;return`${s+1} \u2013 ${d} of ${i}`};static \u0275fac=function(t){return new(t||r)};static \u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ai(r){return r||new fe}var li={provide:fe,deps:[[new te,new ie,fe]],useFactory:ai},ci=50;var di=new A("MAT_PAGINATOR_DEFAULT_OPTIONS"),ui=(()=>{class r{_intl=p(fe);_changeDetectorRef=p(Q);_formFieldAppearance;_pageSizeLabelId=p(nt).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new Z(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(t=>$(t,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new oe;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,t=p(di,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),t){let{pageSize:i,pageSizeOptions:s,hidePageSize:d,showFirstLastButtons:m}=t;i!=null&&(this._pageSize=i),s!=null&&(this._pageSizeOptions=s),d!=null&&(this.hidePageSize=d),m!=null&&(this.showFirstLastButtons=m)}this._formFieldAppearance=t?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let t=this.pageIndex*this.pageSize,i=this.pageIndex;this.pageIndex=Math.floor(t/e)||0,this.pageSize=e,this._emitPageEvent(i)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:ci),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let t=this.pageIndex;e!==t&&(this.pageIndex=e,this._emitPageEvent(t))}_buttonClicked(e,t){t||this._navigate(e)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=T({type:r,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",$],length:[2,"length","length",$],pageSize:[2,"pageSize","pageSize",$],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",N],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",N],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",N]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,i){t&1&&(n(0,"div",1)(1,"div",2),v(2,ni,5,4,"div",3),n(3,"div",4)(4,"div",5),c(5),a(),v(6,ri,3,5,"button",6),n(7,"button",7),u("click",function(){return i._buttonClicked(i.pageIndex-1,i._previousButtonsDisabled())}),w(),n(8,"svg",8),b(9,"path",9),a()(),I(),n(10,"button",10),u("click",function(){return i._buttonClicked(i.pageIndex+1,i._nextButtonsDisabled())}),w(),n(11,"svg",8),b(12,"path",11),a()(),v(13,si,3,5,"button",12),a()()()),t&2&&(l(2),E(i.hidePageSize?-1:2),l(3),y(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),l(),E(i.showFirstLastButtons?6:-1),l(),h("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("disabled",i._previousButtonsDisabled())("tabindex",i._previousButtonsDisabled()?-1:null),P("aria-label",i._intl.previousPageLabel),l(3),h("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("disabled",i._nextButtonsDisabled())("tabindex",i._nextButtonsDisabled()?-1:null),P("aria-label",i._intl.nextPageLabel),l(3),E(i.showFirstLastButtons?13:-1))},dependencies:[at,gt,dt,wt,It],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return r})(),Mt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=x({type:r});static \u0275inj=C({providers:[li],imports:[he,yt,Et,ui]})}return r})();var Ot=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=x({type:r});static \u0275inj=C({imports:[R,R]})}return r})();var hi=()=>["fechada","cancelado","aguardando","em andamento","aberta"],mi=(r,o,e,t,i,s)=>({"bg-green-600 text-white":r,"bg-red-600 text-white":o,"bg-yellow-600 text-black":e,"bg-blue-600 text-white":t,"bg-orange-600 text-white":i,"bg-gray-600 text-white":s}),fi=(r,o,e,t)=>({"bg-red-600 text-white":r,"bg-yellow-600 text-black":o,"bg-green-600 text-white":e,"bg-gray-600 text-white":t});function pi(r,o){if(r&1&&(n(0,"option",52),c(1),a()),r&2){let e=o.$implicit;h("value",e.descricao),l(),f(e.descricao)}}function _i(r,o){if(r&1&&(n(0,"option",52),c(1),a()),r&2){let e=o.$implicit;h("value",e.nome),l(),f(e.nome)}}function gi(r,o){if(r&1&&(n(0,"span",53),c(1),a()),r&2){let e=_();l(),y(" (",e.selectedOrdens.length," selecionadas) ")}}function yi(r,o){if(r&1){let e=M();n(0,"tr",54)(1,"td",55)(2,"button",56),u("click",function(){let i=D(e).$implicit,s=_();return S(s.abrirModalObservacao(i))}),w(),n(3,"svg",57),b(4,"path",58),a()()(),I(),n(5,"td",59),c(6),a(),n(7,"td",60)(8,"div",61),c(9),a()(),n(10,"td",62)(11,"div",63),c(12),a()(),n(13,"td",62)(14,"div",63),c(15),a()(),n(16,"td",62)(17,"div",61),c(18),a()(),n(19,"td",62)(20,"div",61),c(21),a()(),n(22,"td",64),c(23),le(24,"date"),a(),n(25,"td",64),c(26),le(27,"date"),a(),n(28,"td",64),c(29),le(30,"date"),a(),n(31,"td",65)(32,"span",66),c(33),a()(),n(34,"td",62)(35,"div",67),c(36),a()(),n(37,"td",55)(38,"span",68),c(39),a()()()}if(r&2){let e=o.$implicit,t=_();h("ngClass",t.getRowClass(e)),l(6),y(" #",e.id," "),l(),h("title",e.wo_projeto),l(2),f(e.wo_projeto),l(),h("title",e.cidade),l(2),f(e.cidade),l(),h("title",e.regional),l(2),f(e.regional),l(),h("title",e.escopo),l(2),f(e.escopo),l(),h("title",e.premissas),l(2),f(e.premissas||"-"),l(2),y(" ",ce(24,22,e.data_abertura,"dd/MM/yy")," "),l(3),y(" ",e.prazo_desktop?ce(27,25,e.prazo_desktop,"dd/MM/yy"):"-"," "),l(3),y(" ",e.prazo_tecnico?ce(30,28,e.prazo_tecnico,"dd/MM/yy"):"-"," "),l(2),h("ngClass",t.getStatusCellClass(e.descricao_status)),l(),h("ngClass",He(32,mi,e.descricao_status.toLowerCase()==="fechada",e.descricao_status.toLowerCase()==="cancelado",e.descricao_status.toLowerCase()==="aguardando",e.descricao_status.toLowerCase()==="em andamento",e.descricao_status.toLowerCase()==="aberta",!Le(31,hi).includes(e.descricao_status.toLowerCase()))),l(),y(" ",e.descricao_status," "),l(),h("title",e.nome_tecnico),l(2),f(e.nome_tecnico),l(2),h("ngClass",Ve(39,fi,t.getDiasRestantesColor(e.dias_restantes)==="red",t.getDiasRestantesColor(e.dias_restantes)==="yellow",t.getDiasRestantesColor(e.dias_restantes)==="green",t.getDiasRestantesColor(e.dias_restantes)==="gray")),l(),y(" ",typeof e.dias_restantes=="number"?e.dias_restantes+"d":e.dias_restantes," ")}}function vi(r,o){r&1&&(n(0,"div",69)(1,"div",70),w(),n(2,"svg",71),b(3,"path",9),a()(),I(),n(4,"h3",72),c(5,"Nenhuma ordem encontrada"),a(),n(6,"p",73),c(7,"Tente ajustar os filtros de busca"),a()())}function wi(r,o){if(r&1){let e=M();n(0,"div",74),u("click",function(){D(e);let i=_();return S(i.fecharModalObservacao())}),n(1,"div",75),u("click",function(i){return D(e),S(i.stopPropagation())}),n(2,"button",76),u("click",function(){D(e);let i=_();return S(i.fecharModalObservacao())}),c(3," \xD7 "),a(),n(4,"h2",77),c(5),a(),n(6,"div",78),c(7),a()()()}if(r&2){let e=_();l(5),y(" Observa\xE7\xE3o da Ordem #",e.ordemSelecionada.id," "),l(2),y(" ",e.ordemSelecionada.observacao||"Nenhuma observa\xE7\xE3o dispon\xEDvel."," ")}}var Pt=class r{constructor(o,e){this.dataService=o;this.datePipe=e}displayedColumns=["select","id","wo_projeto","cidade","regional","escopo","premissas","data_abertura","prazo_desktop","prazo_tecnico","descricao_status","nome_tecnico","dias_restantes"];dataSource=new me([]);filteredOrdens=[];selectedOrdens=[];searchTerm="";selectedStatus="";selectedTecnico="";mostrarModalObservacao=!1;ordemSelecionada=null;sort;statusList=[];tecnicos=[];sortColumn="";sortDirection="";ngOnInit(){let o=localStorage.getItem("token");if(!o){console.error("Token de autentica\xE7\xE3o n\xE3o encontrado.");return}Ee([this.carregarStatus(o),this.carregarTecnicos(o)]).subscribe({next:()=>{this.carregarOrdens(o)},error:e=>{console.error("Erro ao carregar dados iniciais para a tabela:",e)}})}carregarStatus(o){return this.dataService.listarStatus(o).pipe(ye(e=>{this.statusList=e.status||[]}),ge(e=>(console.error("Erro ao carregar status:",e),_e(()=>new Error("Erro ao carregar status.")))))}carregarTecnicos(o){return this.dataService.listarTecnicos(o).pipe(ye(e=>{this.tecnicos=e.tecnicos||[]}),ge(e=>(console.error("Erro ao carregar t\xE9cnicos:",e),_e(()=>new Error("Erro ao carregar t\xE9cnicos.")))))}carregarOrdens(o){this.dataService.listarOrdens(o).subscribe({next:e=>{let i=(e.ordens_servico||[]).map(s=>{let d=this.statusList.find(g=>g.id===s.id_status),m=this.tecnicos.find(g=>g.id===s.id_tecnico);return Ie(F({},s),{data_abertura:new Date(s.data_abertura),prazo_desktop:s.prazo_desktop?new Date(s.prazo_desktop):null,prazo_tecnico:s.prazo_tecnico?new Date(s.prazo_tecnico):null,descricao_status:d?d.descricao:"Desconhecido",nome_tecnico:m?m.nome:"N\xE3o Atribu\xEDdo",dias_restantes:s.prazo_desktop?this.calcularDiasRestantes(s.prazo_desktop,s.id_status):"N/A"})}).sort((s,d)=>{let m=s.descricao_status.toLowerCase(),g=d.descricao_status.toLowerCase();return m==="fechada"&&g!=="fechada"?1:m!=="fechada"&&g==="fechada"?-1:0});this.dataSource.data=i,this.filteredOrdens=i,this.sort&&(this.dataSource.sort=this.sort)},error:e=>{console.error("Erro ao carregar ordens de servi\xE7o:",e)}})}calcularDiasRestantes(o,e){if(e===2)return 0;let t=new Date;t.setHours(0,0,0,0);let i=new Date(o);i.setHours(0,0,0,0);let s=i.getTime()-t.getTime();return Math.ceil(s/(1e3*60*60*24))}getRowClass(o){let e="";if(this.isSelected(o)&&(e+="bg-yellow-500/10 border-l-4 border-yellow-500 "),o.id_status===2||!o.prazo_desktop||typeof o.dias_restantes!="number")return e;let t=o.dias_restantes;return t<0?e+="bg-red-500/5 ":t<=5&&(e+="bg-yellow-500/5 "),e}onSearchChange(){this.applyFilter()}applyFilter(){let o=this.dataSource.data;if(this.searchTerm&&this.searchTerm.trim()!==""){let e=this.searchTerm.toLowerCase().trim();o=o.filter(t=>t.wo_projeto&&t.wo_projeto.toLowerCase().includes(e)||t.cidade&&t.cidade.toLowerCase().includes(e)||t.regional&&t.regional.toLowerCase().includes(e)||t.escopo&&t.escopo.toLowerCase().includes(e)||t.premissas&&t.premissas.toLowerCase().includes(e)||t.nome_tecnico&&t.nome_tecnico.toLowerCase().includes(e)||t.descricao_status&&t.descricao_status.toLowerCase().includes(e)||t.id&&t.id.toString().includes(e))}this.selectedStatus&&this.selectedStatus.trim()!==""&&(o=o.filter(e=>e.descricao_status.toLowerCase()===this.selectedStatus.toLowerCase())),this.selectedTecnico&&this.selectedTecnico.trim()!==""&&(o=o.filter(e=>e.nome_tecnico.toLowerCase()===this.selectedTecnico.toLowerCase())),this.filteredOrdens=o}getStatusColor(o){switch(o.toLowerCase()){case"fechada":return"green";case"cancelado":return"red";case"aguardando":return"yellow";case"em andamento":return"blue";case"aberta":return"orange";default:return"gray"}}getDiasRestantesColor(o){return typeof o!="number"?"gray":o<0?"red":o<=5?"yellow":"green"}trackByFn(o,e){return e.id}getOrdensCount(o){return this.dataSource.data.filter(e=>e.descricao_status.toLowerCase()===o.toLowerCase()).length}getVencidasCount(){return this.dataSource.data.filter(o=>typeof o.dias_restantes=="number"&&o.dias_restantes<0).length}isSelected(o){return this.selectedOrdens.some(e=>e.id===o.id)}toggleSelection(o){let e=this.selectedOrdens.findIndex(t=>t.id===o.id);e>-1?this.selectedOrdens.splice(e,1):this.selectedOrdens.push(o)}isAllSelected(){return this.filteredOrdens.length>0&&this.selectedOrdens.length===this.filteredOrdens.length}isIndeterminate(){return this.selectedOrdens.length>0&&this.selectedOrdens.length<this.filteredOrdens.length}toggleAllSelection(){this.isAllSelected()?this.selectedOrdens=[]:this.selectedOrdens=[...this.filteredOrdens]}clearSelection(){this.selectedOrdens=[]}atribuirTecnico(){console.log("Atribuindo t\xE9cnico para:",this.selectedOrdens)}alterarStatus(){console.log("Alterando status para:",this.selectedOrdens)}getStatusCellClass(o){switch(o.toLowerCase()){case"fechada":return"status-fechada";case"cancelado":return"status-cancelado";case"aguardando":return"status-aguardando";case"em andamento":return"status-em-andamento";case"aberta":return"status-aberta";default:return"status-default"}}sortData(o){if(this.sortColumn===o?this.sortDirection=this.sortDirection==="asc"?"desc":this.sortDirection==="desc"?"":"asc":(this.sortColumn=o,this.sortDirection="asc"),this.sortDirection===""){this.sortColumn="",this.applyFilter();return}this.filteredOrdens.sort((e,t)=>{let i=e[o],s=t[o];return(o.includes("data")||o.includes("prazo"))&&(i=i?new Date(i).getTime():0,s=s?new Date(s).getTime():0),(o==="id"||o==="dias_restantes")&&(i=typeof i=="number"?i:0,s=typeof s=="number"?s:0),typeof i=="string"&&(i=i.toLowerCase()),typeof s=="string"&&(s=s.toLowerCase()),i<s?this.sortDirection==="asc"?-1:1:i>s?this.sortDirection==="asc"?1:-1:0})}abrirModalObservacao(o){this.ordemSelecionada=o}fecharModalObservacao(){this.ordemSelecionada=null}getSortIcon(o){return this.sortColumn!==o?"":this.sortDirection==="asc"?"\u2191":this.sortDirection==="desc"?"\u2193":""}static \u0275fac=function(e){return new(e||r)(Y(vt),Y(X))};static \u0275cmp=T({type:r,selectors:[["app-view-ordens"]],viewQuery:function(e,t){if(e&1&&U(Dt,5),e&2){let i;W(i=G())&&(t.sort=i.first)}},features:[ae([X])],decls:142,vars:27,consts:[[1,"min-h-screen","bg-gradient-to-br","from-zinc-950","via-zinc-900","to-black","p-6"],[1,"max-w-full","mx-auto"],[1,"mb-8","text-center"],[1,"text-4xl","font-bold","bg-gradient-to-r","from-yellow-400","to-red-500","bg-clip-text","text-transparent","mb-2"],[1,"text-zinc-400"],[1,"mb-8","grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-black/30","backdrop-blur-xl","rounded-xl","border","border-zinc-800/50","p-4","flex","items-center","gap-3"],[1,"w-10","h-10","bg-blue-500/20","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","text-zinc-400"],[1,"text-2xl","font-bold","text-white"],[1,"w-10","h-10","bg-green-500/20","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"w-10","h-10","bg-yellow-500/20","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-10","h-10","bg-red-500/20","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"mb-8","bg-black/30","backdrop-blur-xl","rounded-2xl","border","border-zinc-800/50","p-6","shadow-2xl"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"block","text-sm","font-medium","text-zinc-300","mb-2"],["placeholder","Projeto, cidade, regional, escopo, t\xE9cnico...",1,"w-full","px-4","py-3","bg-zinc-900/50","border","border-zinc-700/50","rounded-xl","text-white","placeholder-zinc-400","focus:outline-none","focus:ring-2","focus:ring-yellow-500/50","focus:border-yellow-500/50","transition-all","duration-300",3,"ngModelChange","input","keyup","ngModel"],[1,"w-full","px-4","py-3","bg-zinc-900/50","border","border-zinc-700/50","rounded-xl","text-white","focus:outline-none","focus:ring-2","focus:ring-yellow-500/50","focus:border-yellow-500/50","transition-all","duration-300",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"mt-4","flex","items-center","justify-between","mb-4"],["class","ml-4 text-yellow-400 font-medium",4,"ngIf"],[1,"flex","gap-2","text-xs"],[1,"px-2","py-1","bg-red-500/20","text-red-300","rounded"],[1,"px-2","py-1","bg-yellow-500/20","text-yellow-300","rounded"],[1,"px-2","py-1","bg-green-500/20","text-green-300","rounded"],[1,"bg-black/30","backdrop-blur-xl","rounded-2xl","border","border-zinc-800/50","shadow-2xl","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full","min-w-max"],[1,"bg-zinc-800/50","border-b","border-zinc-700/50"],[1,"text-left","p-3","text-sm","font-semibold","text-zinc-300","w-12"],["type","checkbox",1,"w-4","h-4","text-yellow-500","bg-zinc-800","border-zinc-600","rounded","focus:ring-yellow-500","focus:ring-2",3,"change","checked","indeterminate"],[1,"text-left","p-3","text-sm","font-semibold","text-zinc-300","w-16","cursor-pointer","hover:bg-zinc-700/30","transition-colors","duration-200","select-none",3,"click"],[1,"flex","items-center","gap-1"],[1,"text-yellow-400","font-bold"],[1,"text-left","p-3","text-sm","font-semibold","text-zinc-300","w-32","cursor-pointer","hover:bg-zinc-700/30","transition-colors","duration-200","select-none",3,"click"],[1,"text-left","p-3","text-sm","font-semibold","text-zinc-300","w-24","cursor-pointer","hover:bg-zinc-700/30","transition-colors","duration-200","select-none",3,"click"],[1,"text-left","p-3","text-sm","font-semibold","text-zinc-300","w-32"],[1,"text-left","p-3","text-sm","font-semibold","text-zinc-300","w-28","cursor-pointer","hover:bg-zinc-700/30","transition-colors","duration-200","select-none",3,"click"],[1,"text-left","p-3","text-sm","font-semibold","text-zinc-300","w-20","cursor-pointer","hover:bg-zinc-700/30","transition-colors","duration-200","select-none",3,"click"],[1,"max-h-96","overflow-y-auto"],["class","border-b border-zinc-700/30 hover:bg-zinc-800/50 transition-all duration-300 animate-fade-in",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-16",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",3,"click",4,"ngIf"],[3,"value"],[1,"ml-4","text-yellow-400","font-medium"],[1,"border-b","border-zinc-700/30","hover:bg-zinc-800/50","transition-all","duration-300","animate-fade-in",3,"ngClass"],[1,"p-3"],["title","Ver Observa\xE7\xE3o",1,"w-6","h-6","text-yellow-400","hover:text-yellow-300","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12H9m6 4H9m12 2a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V18z"],[1,"p-3","text-zinc-400","font-mono","text-sm"],[1,"p-3","text-white","font-medium","text-sm",3,"title"],[1,"truncate","max-w-32"],[1,"p-3","text-zinc-300","text-sm",3,"title"],[1,"truncate","max-w-24"],[1,"p-3","text-zinc-400","text-sm"],[1,"p-3",3,"ngClass"],[1,"px-3","py-1","rounded","text-xs","font-medium","whitespace-nowrap",3,"ngClass"],[1,"truncate","max-w-28"],[1,"px-2","py-1","rounded","text-xs","font-medium","whitespace-nowrap",3,"ngClass"],[1,"text-center","py-16"],[1,"w-24","h-24","bg-zinc-800/50","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-zinc-600"],[1,"text-xl","font-semibold","text-zinc-400","mb-2"],[1,"text-zinc-500"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-gradient-to-br","from-zinc-800","via-zinc-900","to-black","rounded-2xl","p-10","w-[90%]","max-w-3xl","border","border-yellow-600","shadow-2xl","relative","animate-fade-in",3,"click"],[1,"absolute","top-4","right-4","text-zinc-400","hover:text-white","text-3xl","font-bold",3,"click"],[1,"text-2xl","font-bold","text-yellow-400","mb-6","text-center"],[1,"text-center","text-lg","text-zinc-300","whitespace-pre-wrap","leading-relaxed","max-h-[60vh]","overflow-y-auto","px-4"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),c(4," \u{1F4CB} Ordens de Servi\xE7o "),a(),n(5,"p",4),c(6,"Visualiza\xE7\xE3o completa das ordens de servi\xE7o"),a()(),n(7,"div",5)(8,"div",6)(9,"div",7),w(),n(10,"svg",8),b(11,"path",9),a()(),I(),n(12,"div")(13,"p",10),c(14,"Total de Ordens"),a(),n(15,"p",11),c(16),a()()(),n(17,"div",6)(18,"div",12),w(),n(19,"svg",13),b(20,"path",14),a()(),I(),n(21,"div")(22,"p",10),c(23,"Fechadas"),a(),n(24,"p",11),c(25),a()()(),n(26,"div",6)(27,"div",15),w(),n(28,"svg",16),b(29,"path",17),a()(),I(),n(30,"div")(31,"p",10),c(32,"Em Andamento"),a(),n(33,"p",11),c(34),a()()(),n(35,"div",6)(36,"div",18),w(),n(37,"svg",19),b(38,"path",20),a()(),I(),n(39,"div")(40,"p",10),c(41,"Vencidas"),a(),n(42,"p",11),c(43),a()()()(),n(44,"div",21)(45,"div",22)(46,"div")(47,"label",23),c(48,"Buscar Ordem"),a(),n(49,"input",24),se("ngModelChange",function(s){return re(t.searchTerm,s)||(t.searchTerm=s),s}),u("input",function(){return t.onSearchChange()})("keyup",function(){return t.onSearchChange()}),a()(),n(50,"div")(51,"label",23),c(52,"Filtrar por Status"),a(),n(53,"select",25),se("ngModelChange",function(s){return re(t.selectedStatus,s)||(t.selectedStatus=s),s}),u("change",function(){return t.applyFilter()}),n(54,"option",26),c(55,"Todos os Status"),a(),v(56,pi,2,2,"option",27),a()(),n(57,"div")(58,"label",23),c(59,"Filtrar por T\xE9cnico"),a(),n(60,"select",25),se("ngModelChange",function(s){return re(t.selectedTecnico,s)||(t.selectedTecnico=s),s}),u("change",function(){return t.applyFilter()}),n(61,"option",26),c(62,"Todos os T\xE9cnicos"),a(),v(63,_i,2,2,"option",27),a()()(),n(64,"div",28)(65,"div",10),v(66,gi,2,1,"span",29),a(),n(67,"div",30)(68,"span",31),c(69,"Vencido"),a(),n(70,"span",32),c(71,"Aten\xE7\xE3o"),a(),n(72,"span",33),c(73,"No Prazo"),a()()(),n(74,"div",34)(75,"div",35)(76,"table",36)(77,"thead")(78,"tr",37)(79,"th",38)(80,"input",39),u("change",function(){return t.toggleAllSelection()}),a()(),n(81,"th",40),u("click",function(){return t.sortData("id")}),n(82,"div",41),c(83," ID "),n(84,"span",42),c(85),a()()(),n(86,"th",43),u("click",function(){return t.sortData("wo_projeto")}),n(87,"div",41),c(88," Projeto "),n(89,"span",42),c(90),a()()(),n(91,"th",44),u("click",function(){return t.sortData("cidade")}),n(92,"div",41),c(93," Cidade "),n(94,"span",42),c(95),a()()(),n(96,"th",44),u("click",function(){return t.sortData("regional")}),n(97,"div",41),c(98," Regional "),n(99,"span",42),c(100),a()()(),n(101,"th",43),u("click",function(){return t.sortData("escopo")}),n(102,"div",41),c(103," Escopo "),n(104,"span",42),c(105),a()()(),n(106,"th",45),c(107,"Premissas"),a(),n(108,"th",44),u("click",function(){return t.sortData("data_abertura")}),n(109,"div",41),c(110," Abertura "),n(111,"span",42),c(112),a()()(),n(113,"th",44),u("click",function(){return t.sortData("prazo_desktop")}),n(114,"div",41),c(115," Prazo Desktop "),n(116,"span",42),c(117),a()()(),n(118,"th",44),u("click",function(){return t.sortData("prazo_tecnico")}),n(119,"div",41),c(120," Prazo T\xE9cnico "),n(121,"span",42),c(122),a()()(),n(123,"th",46),u("click",function(){return t.sortData("descricao_status")}),n(124,"div",41),c(125," Status "),n(126,"span",42),c(127),a()()(),n(128,"th",46),u("click",function(){return t.sortData("nome_tecnico")}),n(129,"div",41),c(130," T\xE9cnico "),n(131,"span",42),c(132),a()()(),n(133,"th",47),u("click",function(){return t.sortData("dias_restantes")}),n(134,"div",41),c(135," Restam "),n(136,"span",42),c(137),a()()()()(),n(138,"tbody",48),v(139,yi,40,44,"tr",49),a()()(),v(140,vi,8,0,"div",50),a()(),v(141,wi,8,2,"div",51),a()()),e&2&&(l(16),f(t.dataSource.data.length),l(9),f(t.getOrdensCount("fechada")),l(9),f(t.getOrdensCount("em andamento")),l(9),f(t.getVencidasCount()),l(6),ne("ngModel",t.searchTerm),l(4),ne("ngModel",t.selectedStatus),l(3),h("ngForOf",t.statusList),l(4),ne("ngModel",t.selectedTecnico),l(3),h("ngForOf",t.tecnicos),l(3),h("ngIf",t.selectedOrdens.length>0),l(14),h("checked",t.isAllSelected())("indeterminate",t.isIndeterminate()),l(5),f(t.getSortIcon("id")),l(5),f(t.getSortIcon("wo_projeto")),l(5),f(t.getSortIcon("cidade")),l(5),f(t.getSortIcon("regional")),l(5),f(t.getSortIcon("escopo")),l(7),f(t.getSortIcon("data_abertura")),l(5),f(t.getSortIcon("prazo_desktop")),l(5),f(t.getSortIcon("prazo_tecnico")),l(5),f(t.getSortIcon("descricao_status")),l(5),f(t.getSortIcon("nome_tecnico")),l(5),f(t.getSortIcon("dias_restantes")),l(2),h("ngForOf",t.filteredOrdens)("ngForTrackBy",t.trackByFn),l(),h("ngIf",t.filteredOrdens.length===0),l(),h("ngIf",t.ordemSelecionada))},dependencies:[Ue,de,je,Ye,X,Ze,Xe,qe,We,$e,Ge,Qe,Ct,St,Mt,Ot,he,ct,lt],encapsulation:2})};export{Pt as ViewOrdens};
