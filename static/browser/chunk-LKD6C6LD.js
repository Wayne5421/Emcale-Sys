import{a as N}from"./chunk-4QLLRLES.js";import{b as P}from"./chunk-34XPQS2H.js";import"./chunk-FI652MCO.js";import{b as w,f as O,g as v,h as k,i as I,j as E,l as L,m as z}from"./chunk-I65OLL6P.js";import"./chunk-XAA4ZOKT.js";import{$a as _,Ib as l,Jb as y,La as a,Mb as d,Nb as f,Ob as u,Qa as m,Xa as h,gb as c,kb as b,pb as t,qb as o,rb as C,sc as x,vc as S,xb as p,yb as M}from"./chunk-DQFRA6VU.js";function W(s,n){if(s&1&&(t(0,"p",10),l(1),o()),s&2){let r=M();a(),y(r.erro)}}var T=class s{constructor(n,r){this.authService=n;this.router=r}usuario="";senha="";erro="";mostrarSenha=!1;login(){this.authService.login(this.usuario,this.senha).subscribe({next:n=>{localStorage.setItem("token",n.token),localStorage.setItem("nome_completo",n.nome_completo),localStorage.setItem("permissao",n.permissao),this.router.navigate(["/home"])},error:n=>{this.erro=n.error?.error||"Erro ao fazer login"}})}toggleMostrarSenha(){this.mostrarSenha=!this.mostrarSenha}static \u0275fac=function(r){return new(r||s)(m(N),m(P))};static \u0275cmp=h({type:s,selectors:[["app-login"]],decls:13,vars:7,consts:[[1,"login-wrapper"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"ngSubmit"],["placeholder","Usu\xE1rio","type","text","id","usuario","name","usuario","required","",3,"ngModelChange","ngModel"],[1,"password-wrapper"],["placeholder","Senha","id","senha","name","senha","required","",3,"ngModelChange","type","ngModel"],["type","button",1,"eye-button",3,"click"],["type","submit",1,"btn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(r,e){r&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Bem-vindo"),o(),t(4,"form",3),p("ngSubmit",function(){return e.login()}),t(5,"input",4),u("ngModelChange",function(i){return f(e.usuario,i)||(e.usuario=i),i}),o(),t(6,"div",5)(7,"input",6),u("ngModelChange",function(i){return f(e.senha,i)||(e.senha=i),i}),o()(),t(8,"button",7),p("click",function(){return e.toggleMostrarSenha()}),C(9,"i"),o(),t(10,"button",8),l(11,"Entrar"),o()(),_(12,W,2,1,"p",9),o()()),r&2&&(a(5),d("ngModel",e.usuario),a(2),c("type",e.mostrarSenha?"text":"password"),d("ngModel",e.senha),a(2),b("fa-regular fa-eye",e.mostrarSenha?"":"-slash",""),a(3),c("ngIf",e.erro))},dependencies:[S,x,z,E,w,O,v,L,I,k],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;background:linear-gradient(120deg,#0f0f0f,#1e1e1e,#0f0f0f);background-size:300% 300%;animation:_ngcontent-%COMP%_gradientBG 10s ease infinite;display:flex;align-items:center;justify-content:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.login-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}.login-card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:3rem 2.5rem;border-radius:20px;width:360px;box-shadow:0 0 20px #ffffff0d;animation:_ngcontent-%COMP%_fadeIn 1.2s ease;color:#fff;display:flex;flex-direction:column;margin-top:5%}.login-title[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:2rem;letter-spacing:1px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:calc(100% - 40px);padding:12px 16px;margin-bottom:1.5rem;border:none;border-radius:12px;background-color:#ffffff1a;color:#fff;font-size:.95rem;transition:background .3s ease}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ccc}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#ffffff26;outline:none}.password-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin-bottom:1.5rem}.eye-button[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;padding:0;margin:0;cursor:pointer;outline:none}.eye-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#ccc}.btn[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:30px;background:linear-gradient(145deg,#fff,#ccc);color:#000;font-weight:700;font-size:1rem;cursor:pointer;transition:transform .3s ease,box-shadow .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 12px #fff3}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;text-align:center;margin-top:1rem;font-size:.85rem}.eye-button[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@media (max-width: 420px){.login-card[_ngcontent-%COMP%]{width:80%;padding:2rem}.login-title[_ngcontent-%COMP%]{font-size:1.6rem}}"]})};export{T as LoginComponent};
