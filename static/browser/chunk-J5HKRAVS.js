import{a as w,d as P,e as x,f as O,g as I,h as k,j as L,k as N,l as E}from"./chunk-II5GS6TO.js";import{g as v}from"./chunk-B3QBROCE.js";import{$b as y,Ab as c,Bb as u,Ha as s,Ma as p,Ta as f,Xa as _,bc as S,cb as m,gb as r,hb as i,ib as h,lb as C,mb as M,wb as l,xb as b,zb as g}from"./chunk-T6TSQUEO.js";function W(a,e){if(a&1&&(r(0,"p",8),l(1),i()),a&2){let t=M();s(),b(t.erro)}}var z=class a{constructor(e,t){this.authService=e;this.router=t}usuario="";senha="";erro="";mostrarSenha=!1;login(){this.authService.login(this.usuario,this.senha).subscribe({next:e=>{localStorage.setItem("token",e.token),localStorage.setItem("nome_completo",e.nome_completo),localStorage.setItem("permissao",e.permissao),this.router.navigate(["/home"])},error:e=>{this.erro=e.error?.error||"Erro ao fazer login"}})}static \u0275fac=function(t){return new(t||a)(p(E),p(v))};static \u0275cmp=f({type:a,selectors:[["app-login"]],decls:9,vars:4,consts:[[1,"login"],[1,"h1"],[3,"ngSubmit"],["placeholder","Usu\xE1rio","type","text","id","usuario","name","usuario","required","",3,"ngModelChange","ngModel"],[1,"password-wrapper"],["placeholder","Senha","id","senha","name","senha","required","",3,"ngModelChange","type","ngModel"],["type","submit","value","Entrar",1,"btn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1),l(2,"Login"),i(),r(3,"form",2),C("ngSubmit",function(){return n.login()}),r(4,"input",3),u("ngModelChange",function(o){return c(n.usuario,o)||(n.usuario=o),o}),i(),r(5,"div",4)(6,"input",5),u("ngModelChange",function(o){return c(n.senha,o)||(n.senha=o),o}),i()(),h(7,"input",6),i(),_(8,W,2,1,"p",7),i()),t&2&&(s(4),g("ngModel",n.usuario),s(2),m("type",n.mostrarSenha?"text":"password"),g("ngModel",n.senha),s(2),m("ngIf",n.erro))},dependencies:[S,y,N,k,w,P,x,L,I,O],styles:[".login[_ngcontent-%COMP%]{width:340px;margin:5rem auto;background:#2c2c2c;padding:47px;color:#fff;border-radius:17px;font-size:1.3em;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.h1[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;margin-bottom:1rem;animation:_ngcontent-%COMP%_bounce2 .8s}.login[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{display:block;width:100%;border:none;outline:none;padding:13px 18px;margin-top:20px;font-size:.8em;border-radius:100px;background:#3c3c3c;color:#fff}.password-wrapper[_ngcontent-%COMP%]{position:relative}.password-wrapper[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:20px;transform:translateY(-50%);cursor:pointer;font-size:1.2em;-webkit-user-select:none;user-select:none}.login[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:16px!important;width:100%;border:none;border-radius:500px;font-weight:600;margin-top:40px;cursor:pointer;animation:_ngcontent-%COMP%_bounce2 .8s}.btn[_ngcontent-%COMP%]:hover{background:#2c2c2c;transition:all .4s ease}.error-message[_ngcontent-%COMP%]{color:red;margin-top:1rem;text-align:center;font-size:.9rem}@keyframes _ngcontent-%COMP%_bounce2{0%{opacity:0}70%{transform:translateY(-20px);opacity:0}}"]})};export{z as LoginComponent};
